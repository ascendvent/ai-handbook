{
    "name": "PR Checklist Agent",
    "trigger": [
        "pull_request.opened",
        "pull_request.edited",
        "pull_request.synchronize"
    ],
    "rules": [
        {
            "type": "require_in_description",
            "pattern": "docs/specs/.*\\.md",
            "message": "Missing linked spec in description."
        },
        {
            "type": "require_file_modified",
            "files": [
                "docs/FEATURES.md",
                "docs/PRD.md",
                "README.md"
            ],
            "message": "Docs must be updated for this PR."
        },
        {
            "type": "require_test_update",
            "coverageThreshold": 0.8,
            "message": "Test coverage missing or insufficient."
        },
        {
            "type": "require_branch_naming",
            "patterns": [
                "^feature/.+",
                "^hotfix/.+",
                "^refactor/.+"
            ],
            "message": "Branch must follow naming convention (feature/, hotfix/, refactor/)."
        },
        {
            "type": "require_conventional_commits",
            "pattern": "^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}",
            "message": "Commits must follow conventional commit format."
        }
    ],
    "on_fail": {
        "status": "failure",
        "comment": "ðŸš« PR Checklist failed. Please ensure tests, docs, and spec are present before requesting review."
    }
}