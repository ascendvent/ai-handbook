{
    "name": "Release Notes Agent",
    "trigger": [
        "pull_request.closed"
    ],
    "condition": {
        "merged": true,
        "base_branch": [
            "main",
            "develop"
        ]
    },
    "actions": [
        {
            "type": "generate_changelog",
            "from": "pull_request.title_and_body",
            "to_file": "CHANGELOG.md",
            "categorize_by": [
                "feat",
                "fix",
                "refactor",
                "docs",
                "test",
                "chore",
                "perf",
                "style"
            ]
        },
        {
            "type": "create_branch",
            "name": "release/${date}"
        },
        {
            "type": "commit_file",
            "file": "CHANGELOG.md",
            "message": "chore: update changelog for release ${date}"
        },
        {
            "type": "open_pull_request",
            "base": "main",
            "title": "Release Notes Update for ${date}",
            "body": "Auto-generated changelog. Please review and merge."
        }
    ]
}